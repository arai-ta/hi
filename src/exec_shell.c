/**********************************************************************/
/*  hi - バイナリエディタ                                             */
/* ------------------------------------------------------------------ */
/* @(#) Author  : Kazunori Mita (mita@maroon.plala.or.jp)             */
/* @(#) Date    : Dec 1998 - Aug 2000                                 */
/* @(#) Version : 2.1                                                 */
/* @(#) Release : 1                                                   */
/* ------------------------------------------------------------------ */
/*    Copyright (c) 1998-2000 Kazunori Mita. All right reserved.      */
/**********************************************************************/
/* ================================================================== */
/* インクルードファイル                                               */
/* ================================================================== */
#include    <stdlib.h>
#include    <hi_std.h>

/**********************************************************************/
/*  シェルコマンド実行関数 - exec_shell                               */
/* ------------------------------------------------------------------ */
/* 関数概要                                                           */
/*   シェルコマンドを実行する。                                       */
/**********************************************************************/
vd  exec_shell( struct ifa_s *ifa )     /* シェルコマンド実行関数     */
{

    trace_start( ifa, "exec_shell" ) ;  /* トレース取得               */
/* ------------------------------------------------------------------ */
/* カーサスを、一旦終了する                                           */
/* ------------------------------------------------------------------ */
    hi_end( ifa ) ;                     /* 終了処理                   */

/* ------------------------------------------------------------------ */
/* シェルコマンド実行処理                                             */
/* ------------------------------------------------------------------ */
    system( &(ifa->cmd_str[1]) ) ;      /* シェルコマンド実行         */

    printf( "\033[7mPlease hit return-key to continue...\033[m" ) ;
                                        /* インフォメーション表示     */
    fflush( stdout ) ;                  /* バッファをフラッシュする   */
    getchar() ;                         /* キー入力取得               */

/* ------------------------------------------------------------------ */
/* カーサスを、再開始する                                             */
/* ------------------------------------------------------------------ */
    hi_reinit( ifa ) ;                  /* 再初期設定関数             */

/* ------------------------------------------------------------------ */
/* 画面の表示状態を復元する                                           */
/* ------------------------------------------------------------------ */
    win_refresh( ifa ) ;                /* 画面再描画関数             */

    trace_end( ifa ) ;                  /* トレース取得               */
    return ;                            /* return - exec_shell        */
}                                       /* end (exec_shell)           */

/**********************************************************************/
